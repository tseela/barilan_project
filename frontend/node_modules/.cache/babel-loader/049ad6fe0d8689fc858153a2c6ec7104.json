{"ast":null,"code":"export default class Token {\n  static add_listener(token_changed_listener) {\n    // make sure token_changed_listener is defined and has a 'Notify' func\n    if (token_changed_listener && typeof token_changed_listener.Notify === 'function') {\n      this.listeners.push(token_changed_listener);\n    }\n  }\n\n  static getToken() {\n    var _JSON$parse;\n\n    return (_JSON$parse = JSON.parse(sessionStorage.getItem('token'))) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.token;\n  }\n\n  static saveToken(token) {\n    sessionStorage.setItem('token', JSON.stringify(token));\n    this.listeners.forEach(function (listener) {\n      listener.Notify();\n    });\n  }\n\n}\nToken.listeners = [];","map":{"version":3,"names":["Token","add_listener","token_changed_listener","Notify","listeners","push","getToken","JSON","parse","sessionStorage","getItem","token","saveToken","setItem","stringify","forEach","listener"],"sources":["C:/Users/tseela/PycharmProjects/barilan/frontend/src/components/token/Token.js"],"sourcesContent":["export default class Token {\r\n    static listeners = [];\r\n\r\n    static add_listener(token_changed_listener) {\r\n        // make sure token_changed_listener is defined and has a 'Notify' func\r\n        if (token_changed_listener && typeof token_changed_listener.Notify === 'function') {\r\n            this.listeners.push(token_changed_listener);\r\n        }\r\n    }\r\n\r\n    static getToken() {\r\n        return JSON.parse(sessionStorage.getItem('token'))?.token;\r\n    }\r\n\r\n    static saveToken(token) {\r\n        sessionStorage.setItem('token', JSON.stringify(token));\r\n        this.listeners.forEach(function (listener) {listener.Notify()})\r\n    }\r\n}"],"mappings":"AAAA,eAAe,MAAMA,KAAN,CAAY;EAGJ,OAAZC,YAAY,CAACC,sBAAD,EAAyB;IACxC;IACA,IAAIA,sBAAsB,IAAI,OAAOA,sBAAsB,CAACC,MAA9B,KAAyC,UAAvE,EAAmF;MAC/E,KAAKC,SAAL,CAAeC,IAAf,CAAoBH,sBAApB;IACH;EACJ;;EAEc,OAARI,QAAQ,GAAG;IAAA;;IACd,sBAAOC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAX,CAAP,gDAAO,YAA6CC,KAApD;EACH;;EAEe,OAATC,SAAS,CAACD,KAAD,EAAQ;IACpBF,cAAc,CAACI,OAAf,CAAuB,OAAvB,EAAgCN,IAAI,CAACO,SAAL,CAAeH,KAAf,CAAhC;IACA,KAAKP,SAAL,CAAeW,OAAf,CAAuB,UAAUC,QAAV,EAAoB;MAACA,QAAQ,CAACb,MAAT;IAAkB,CAA9D;EACH;;AAjBsB;AAANH,K,CACVI,S,GAAY,E"},"metadata":{},"sourceType":"module"}